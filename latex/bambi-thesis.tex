\RequirePackage[l2tabu, orthodox]{nag}
\documentclass[a4paper,12pt, openright, twoside]{report}
\usepackage{listings}
\usepackage{color} %red, green, blue, yellow, cyan, magenta, black, white
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[american]{babel}
\usepackage[breaklinks=true,colorlinks=false,pdfborder={0 0 0}]{hyperref}
\usepackage{lmodern}
\usepackage{graphicx}
\usepackage{datetime2}
\usepackage{url}
%\usepackage{breakurl}
\usepackage{wrapfig}
\usepackage{subcaption}
\usepackage{microtype}
%\usepackage{inconsolata}
%\usepackage[lf]{MinionPro}
\usepackage{textcomp}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{cleveref}
\usepackage{courier}
\usepackage{xstring}
\usepackage{mathrsfs}
\usepackage{units}
\usepackage{threeparttable}
\usepackage[inline]{enumitem}
\usepackage{todonotes}
\usepackage{gensymb}
\usepackage{lipsum}
\usepackage{fancyhdr}
\usepackage[headsep=.5cm,headheight=1cm,left=3cm,right=2cm,top=3cm,bottom=2.5cm]{geometry}
\usepackage[numbib]{tocbibind}
\usepackage{appendix}
\usepackage{imakeidx}
\usepackage{tabularx}
\usepackage[ruled,vlined]{algorithm2e}
\usepackage[toc,acronym]{glossaries}
\usepackage{gensymb}
% Set listing style
\lstdefinestyle{mystyle}{
captionpos=b,
frame=tb,
prebreak=\raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}}
}
\lstset{style=mystyle}

\definecolor{maroon}{rgb}{0.5,0,0}
\definecolor{darkgreen}{rgb}{0,0.5,0}
\lstdefinelanguage{XML}
{
  basicstyle=\ttfamily,
  morestring=[s]{"}{"},
  morecomment=[s]{?}{?},
  morecomment=[s]{!--}{--},
  commentstyle=\color{darkgreen},
  moredelim=[s][\color{black}]{>}{<},
  moredelim=[s][\color{red}]{\ }{=},
  stringstyle=\color{blue},
  identifierstyle=\color{maroon}
}

\makeindex
\indexsetup{level=\section,noclearpage}

\reversemarginpar
\setlength{\marginparwidth}{2cm}

\providecommand{\keywords}[1]{\textbf{\textit{Keywords: }} #1}
\def\UrlBreaks{\do\/\do-}
\input{matlab-code-config}


\title{Agricultural Field Detection and Coverage Path Planning for an Unmanned Aerial Vehicle}
\author{Michael Rimondi}
\date{\today}


% Make the list of * output as SECTION rather than CHAPTER
\makeatletter
\newcommand\renewlistof[3]%
   {\renewcommand#1%
      {\section{#3}%
       %\addcontentsline{toc}{chapter}{#3}%
       \markboth{#3}{#3}%
       \@starttoc{#2}%
      }%
   }

\makeatother
\renewlistof\listoffigures{lof}{\listfigurename}
\renewlistof\listoftables{lot}{\listtablename}
\renewlistof\lstlistoflistings{lstlol}{\lstlistlistingname}

\input{title-page}
\makeatother


% clear fancy hdr spaces
\fancyhf{}
\renewcommand*{\sectionmark}[1]{ \markright{\thesection\ ##1} }
% \fancyhead[LE,RO]{\rightmark}
\fancyhead[LO,RE]{\leftmark}
\fancyfoot[C]{\thepage}
\pagestyle{fancy}

%%%%%%%%%%%%%%%%%%%%%%%%%%Acronyms list BEGIN%%%%%%%%%%%%%%%%%%%%%%%%%%
\makeglossaries
\newacronym{uav}{UAV}{Unmanned Aerial Vehicle}
\newacronym{ros}{ROS}{Robot Operating System}
\newacronym{cpp}{CPP}{Coverage Path Planning}
\newacronym{wgs84}{WGS84}{World Geodetic System of 1984}
\newacronym{utm}{UTM}{Universal Transverse of Mercator}
\newacronym{sitl}{SITL}{Software-In-The-Loop}
\newacronym{qgc}{QGC}{QGroundControl}
\newacronym{mavlink}{MAVLink}{Micro Air Vehicle Link}
\newacronym{xml}{XML}{eXtensible Markup Language}
\newacronym{qml}{QML}{Qt Modeling Language}

%%%%%%%%%%%%%%%%%%%%%%%%%%%Acronyms list END%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

\setcounter{secnumdepth}{3}
\setcounter{tocdepth}{3}
\hypersetup{pageanchor=false}
\maketitle

%%%%%%%%%%%%%% REMOVE ME %%%%%%%%%%%%%%%%%
\thispagestyle{empty}
\listoftodos
\pagenumbering{roman}
\setcounter{page}{1}
\newpage
% %%%%%%%%%%%%%% REMOVE ME %%%%%%%%%%%%%%%%%

% \thispagestyle{empty}
% \setcounter{page}{2}
% \cleardoublepage


\pagenumbering{roman}
\begin{abstract}
\addcontentsline{toc}{chapter}{Abstract}{}{}
\thispagestyle{plain}
\setcounter{page}{3}
\lipsum[43]
\vskip 2em
\keywords{One, Two}
\end{abstract}

\thispagestyle{empty}
\setcounter{page}{4}
\cleardoublepage


\renewcommand{\abstractname}{Abstract (italiano)}
\begin{abstract}
\addcontentsline{toc}{chapter}{Abstract (italiano)}{}{}
\thispagestyle{plain}
\setcounter{page}{5}
\lipsum[44]
\vskip 2em
\keywords{Uno, Due}
\end{abstract}



\thispagestyle{empty}
\cleardoublepage

% use pagestyle plain for content to put page numbers in the footer
\hypersetup{pageanchor=true}
\pagestyle{plain}
\tableofcontents


% Print Acronym list
\printglossary[type=\acronymtype]
\cleardoublepage

% begin content and use roman numbers for chapter,
% without including them in the section numbering (no I.1)
\pagestyle{fancy}
\pagenumbering{arabic}
\renewcommand{\thechapter}{\Roman{chapter}}
\renewcommand*\thesection{\arabic{section}}


\chapter{Introduction} % (fold)
\label{cha:introduction}

\input{c1-introduction}

% chapter introduction (end)



\chapter{Georeferencing the mission's environment} % (fold)
\label{cha:georeferencing_the_mission_s_environment}
\input{c2-orthophoto}
% chapter georeferencing_the_mission_s_environment (end)


\chapter{Coverage Path Planning} % (fold)
\label{cha:coverage_path_planning}
\input{c3-CPP}
% chapter coverage_path_planning (end)


% chapter simulation_results (end)
\chapter{Conclusion and Future Work} % (fold)
\label{cha:conclusion}
\input{C4-Conclusion}
% chapter conclusion (end)


\bibliography{bambi-thesis}
\bibliographystyle{IEEEtran}


\begin{appendices}

%\chapter{Supplementary Information} % (fold)
%\label{cha:supplementary_information}
\input{a1-ros}
\input{a2-pixhawk}
\input{a3-mavlink}
\input{a4-mavros}
\end{appendices}

\pagebreak
\listoffigures
\listoftables
\lstlistoflistings
\printindex

% chapter supplementary_information (end)




\end{document}
